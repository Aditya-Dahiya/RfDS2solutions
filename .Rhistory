opt_interactive()
dest_vec = flights |>
group_by(dest) |>
count() |>
filter(n > 10000) |>
select(dest) |>
as_vector() |>
unname()
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2) +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
#| label: fig-q1ab-ex6
#| fig-cap: "A box-plot of the air speeds for the 10 most frequent destinations, with >10,000 flights in 2013"
#| fig-width: 10
dest_vec = flights |>
group_by(dest) |>
count() |>
filter(n > 10000) |>
select(dest) |>
as_vector() |>
unname()
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2) +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2) +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2) +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2,
fill = "#d0b8e3") +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2,
fill = "#d0b8e3",
outlier.fill = "#d0b8e3",
outlier.colour = "#d0b8e3") +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest %in% dest_vec) |>
mutate(speed = 60 * distance/air_time) |>
group_by(dest) |>
mutate(m_s = mean(speed, na.rm = TRUE)) |>
ggplot(aes(y = reorder(dest, m_s),
x = speed)
) +
geom_boxplot(outlier.alpha = 0.2,
fill = "#cbc6cf") +
theme_minimal() +
labs(x = "Air speed (miles per hour)",
y = NULL,
title = "Farther destinations have higher average air speed of aircrafts, and lesser variability",
subtitle = "Los Angeles bound aircrafts' average speed is much higher than Boston-bound aircrafts, but spread of data is lesser") +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor = element_blank(),
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(100, 600, 100)) +
coord_cartesian(xlim = c(100, 600))
flights |>
filter(dest == "EGE")
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = air_time)) +
geom_boxplot()
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance)) +
geom_boxplot()
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance)) +
geom_point()
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_point()
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter()
?geom_jitter
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0)
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0, alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800))
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
hieght = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800))
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800))
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3)
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800),
ylim = c(0.8, 1.2)) +
scale_x_continuous(breaks = c(1500, 1600, 1700, 1725, 1745, 1800))
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800),
ylim = c(0.8, 1.2)) +
scale_x_continuous(breaks = c(1500, 1600, 1700, 1725, 1745, 1800)) +
labs(title = "Flight distances from NYC to EGE cluster into two: 1725 vs 1746 miles", x = "Flight Distance (miles)", y = NULL) +
theme(panel.grid.minor = element_blank(),
axis.text.y = element_blank(),
axis.ticks.y = element_blank())
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800),
ylim = c(0.8, 1.2)) +
scale_x_continuous(breaks = c(1500, 1600, 1700, 1725, 1745, 1800)) +
labs(title = "Flight distances from NYC to EGE cluster into two groups: 1725 vs 1746 miles", x = "Flight Distance (miles)", y = NULL) +
theme(panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.text.y = element_blank(),
axis.ticks.y = element_blank())
flights |>
filter(dest == "EGE") |>
ggplot(aes(x = distance, y = 1)) +
geom_jitter(width = 0,
height = 0.1,
alpha = 0.3) +
theme_minimal() +
coord_cartesian(xlim = c(1500, 1800),
ylim = c(0.8, 1.2)) +
scale_x_continuous(breaks = c(1500, 1600, 1700, 1725, 1745, 1800)) +
labs(title = "Flight distances from NYC to EGE cluster into two groups around 1725 & 1746 miles",
x = "Flight Distance (miles)", y = NULL) +
theme(panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.text.y = element_blank(),
axis.ticks.y = element_blank())
flights |>
filter(dest == "EGE")
flights |>
filter(dest == "EGE")
flights |>
filter(dest == "EGE") |>
group_by(distance) |>
count()
flights |>
filter(dest == "EGE") |>
group_by(distance) |>
count()
flights |>
filter(dest == "EGE") |>
group_by(distance) |>
count() |>
gt() |>
cols_label(
distance = "Distance (in miles)",
n = "Number of flights in 2013"
) |>
gtExtras::gt_theme_538()
flights |>
filter(dest == "EGE") |>
group_by(distance) |>
count() |>
ungroup() |>
gt() |>
cols_label(
distance = "Distance (in miles)",
n = "Number of flights in 2013"
) |>
gtExtras::gt_theme_538()
flights |>
filter(dest == "EGE")
flights |>
filter(dest == "EGE") |>
group_by(orgin) |>
summarise(
mean_dist = mean(distance, na.rm = TRUE),
sd_dist = sd(distance, na.rm = TRUE),
prop_cancelled = mean(is.na(dep_time)),
nos = n()
)
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_dist = mean(distance, na.rm = TRUE),
sd_dist = sd(distance, na.rm = TRUE),
prop_cancelled = mean(is.na(dep_time)),
nos = n()
)
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
SD_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, SD_of_distance))
?make_clean_names
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
SD_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, SD_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title"))
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title"))
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_guardian()
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_pff()
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_nytimes()
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_guardian()
)
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_dot_matrix()
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_538()
flights |>
filter(dest == "EGE") |>
group_by(origin) |>
summarise(
mean_of_distance = mean(distance, na.rm = TRUE),
std_dev_of_distance = sd(distance, na.rm = TRUE),
proportion_of_cancelled_flights = mean(is.na(dep_time)),
number_of_flights = n()
) |>
gt() |>
fmt_percent(columns = proportion_of_cancelled_flights) |>
fmt_number(decimals = 2,
columns = c(mean_of_distance, std_dev_of_distance)) |>
cols_label_with(fn = ~ janitor::make_clean_names(., case = "title")) |>
gtExtras::gt_theme_pff()
?gt_theme_pff
library(tidyverse)
library(babynames)
library(babynames)
babynames::babynames
x = "He said \" That's amazing!\""
x
print(x)
str_view(x)
str_view(x)
x = "\\a\\b\\c\\d"
str_view(x)
print(x)
?Quotes
x = "\\\\\\\\\\\\"
print(x)
str_view(x)
"\U0001f604"
"\u00b5"
"\\\\\\\\\\\\"
str_view(x)
"one\ttwo"
str_view("one\ttwo")
"\u00a0"
str_view("\u00a0")
x <- "This\u00a0is\u00a0tricky"
print(x)
str_view(x)
title = c("A", "BB", "CCC")
str_c("\\section{", title, "}")
library(tidyverse)
str_c("\\section{", title, "}")
str_glue("\\section{{{title}}}")
str_glue("\\\\section{{{title}}}")
?str_flatten
str_flatten(title)
str_flatten(title, ", ")
str_flatten(title, ", ", last = ", and")
str_flatten(title, ", ", last = ", and, ")
str_flatten(title, ", ", last = " and, ")
str_flatten(title, ", ", last = " and ")
str_flatten_comma(title)
str_c("hi ", NA)
paste0("hi ", NA)
str_c(letters[1:2], letters[1:3])
