df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character") +
theme_classic()
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nIn 1950s, names starting with D were really popular, while A wasn't popular") +
theme_classic() +
theme(legend.position = NULL)
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nIn 1950s, names starting with D were really popular, while A wasn't popular") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot")
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nIn 1950s, names starting with D were really popular, while A wasn't popular") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nNames starting with J were popular in the 1940s\nIn 1950s, names starting with D were really popular, while A wasn't popular") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nNames starting with J were popular in the 1940s\nIn 1950s, names starting with D became popular, while those starting with A lost popularity") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == max(year),
name_start,
NA))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == max(year, na.rm = TRUE),
name_start,
NA))
max(df4$year)
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nNames starting with J were popular in the 1940s\nIn 1950s, names starting with D became popular, while those starting with A lost popularity") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
df4 |>
filter(name_start %in% ns_vec) |>
group_by(year) |>
count(name_start, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_start,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_start, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names starting with character",
title = "People's preferences for baby names' starting letter change over time",
subtitle = "Names starting with A are most popular now\nNames starting with J were popular in the 1940s\nIn 1950s, names starting with D became popular, while those starting with A lost popularity") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
ns_vec = df4 |>
count(name_start, wt = n, sort = TRUE) |>
slice_head(n = 5) |>
select(name_start) |>
as_vector() |>
unname()
df4 |>
filter(name_end %in% ns_vec) |>
group_by(year) |>
count(name_end, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_end,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_end, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names ending with character",
title = "People's preferences for baby names' ending letter change over time",
subtitle = "") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
ns_vec = df4 |>
count(name_end, wt = n, sort = TRUE) |>
slice_head(n = 5) |>
select(name_end) |>
as_vector() |>
unname()
df4 |>
filter(name_end %in% ns_vec) |>
group_by(year) |>
count(name_end, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_end,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_end, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names ending with character",
title = "People's preferences for baby names' ending letter change over time",
subtitle = "") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
df4 |>
filter(name_end %in% ns_vec) |>
group_by(year) |>
count(name_end, wt = n) |>
mutate(prop = 100*n/sum(n)) |>
mutate(lbl = if_else(year == 2017,
name_end,
NA)) |>
ggplot(aes(x = year, y = prop,
col = name_end, label = lbl)) +
geom_line(lwd = 1) +
ggrepel::geom_label_repel(nudge_x = 1) +
labs(x = "Year",
y = "Percentage of names ending with character",
title = "People's preferences for baby names' ending letter change over time",
subtitle = "Names ending in N have risen in popularity over the decades.\nNames ending with E have become less popular over time") +
theme_classic() +
theme(legend.position = "none",
plot.title.position = "plot") +
scale_x_continuous(breaks = seq(1880, 2020, 20))
#| label: setup
library(tidyverse)
library(babynames)
fruit
words
sentences
fruit |>
str_view()
?str_view
fruit |>
str_view(pattern = "berry")
str_view(c("a", "ab", "ae", "bd", "ea", "eab"), "a.")
fruit |>
str_view(pattern = "a...e")
fruits[1:10]
fruit[1:10]
fruit[1:10] |>
str_view("a*")
fruit[1:10] |>
str_view("ap*")
fruit |>
str_view(pattern = "a...e")
fruit[1:10] |>
str_view("app+")
fruit[1:10] |>
str_view("acp+")
fruit[1:10] |>
str_view("ack+")
fruit[1:10] |>
str_view("ack*")
fruit[1:10] |>
str_view("ask*")
fruit[1:10] |>
str_view("as")
fruit[1:10] |>
str_view()
fruit[1:10] |>
str_view("blac*")
fruit[1:10] |>
str_view("bla")
fruit[1:10] |>
str_view("black")
fruit[1:50]
fruit[1:50] |>
str_view([^aeiou]n[^aeiou])
fruit[1:50] |>
str_view("[^aeiou]n[^aeiou]")
fruit[1:50] |>
str_view("[aeiou]n[aeiou]")
fruit[1:50] |>
str_view("apple|melon|nut")
fruit[1:50] |>
str_view("aa|ee|ii|oo|uu")
babynames
babynames |>
count(name, wt = n)
babynames |>
count(name, wt = n, sort = TRUE)
babynames |>
count(name, wt = n, sort = TRUE) |>
slice_head(n = 20) |>
select(name) |>
as_vector() |>
unname()
n1 = babynames |>
count(name, wt = n, sort = TRUE) |>
slice_head(n = 20) |>
select(name) |>
as_vector() |>
unname()
babynames |>
filter(name %in% n1)
babynames |>
filter(str_detect(name, "x")) |>
count(name, wt = n, sort = TRUE)
babynames |>
group_by(year) |>
summarise(prop_names_with_x = mean(str_detect(name, x)))
babynames |>
group_by(year) |>
summarise(prop_names_with_x = mean(str_detect(name, "x")))
babynames |>
group_by(year) |>
summarise(prop_names_with_x = mean(str_detect(name, "x"))) |>
ggplot(aes(x = year, y = prop_names_with_x)) +
geom_line()
library(janitor)
#| label: setup
library(tidyverse)
library(babynames)
library(gt)
library(gtExtras)
library(janitor)
babynames |>
mutate(nos_vowels = str_count(name, pattern = "[aeiou]"))
babynames |>
mutate(nos_vowels = str_count(name, pattern = "[AEIOUaeiou]"))
babynames |>
mutate(
nos_vowels = str_count(name, pattern = "[AEIOUaeiou]"),
name_length = str_length(name),
prop_vowels = nos_vowels
)
babynames |>
mutate(
nos_vowels = str_count(name, pattern = "[AEIOUaeiou]"),
name_length = str_length(name),
prop_vowels = nos_vowels / name_length
)
b1 = babynames |>
mutate(
nos_vowels = str_count(name, pattern = "[AEIOUaeiou]"),
name_length = str_length(name),
prop_vowels = nos_vowels / name_length
)
b1 |> arrange(desc(nos_vowels))
b1 |>
group_by(name) |>
summarise(nos_vowels = nos_vowels) |>
arrange(desc(nos_vowels))
b1 |>
group_by(name) |>
summarise(nos_vowels = mean(nos_vowels)) |>
arrange(desc(nos_vowels))
b1 |>
group_by(name) |>
summarise(nos_vowels = mean(nos_vowels)) |>
arrange(desc(nos_vowels)) |>
slice_head(n = 5)
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
arrange(desc(prop_vowels)) |>
slice_head(n = 5)
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
arrange(desc(prop_vowels)) |>
slice_head(n = 10)
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector()
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_view()
?str_view
?str_c
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_c(sep = ", ")
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_c(sep = ", ", collapse = TRUE)
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_glue(sep = ", ", collapse = TRUE)
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_glue(sep = ", ")
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
paste(sep = ", ")
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
unname() |>
paste(sep = ", ")
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
unname()
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_flatten(collapse = ", ", last = "and ")
b1 |>
group_by(name) |>
summarise(prop_vowels = mean(prop_vowels)) |>
filter(prop_vowels == 1) |>
select(name) |>
as_vector() |>
str_flatten(collapse = ", ", last = " and ")
test_string = "a/b/c/d/e"
test_string
replacement = "\")
str_replace_all(test_string,
pattern = "/",
replacement = "\\")
replacement = "\\\")
str_replace_all(test_string,
pattern = "/",
replacement = "\\\\")
str_replace_all(test_string,
pattern = "/",
replacement = "\\" )
str_replace_all(test_string,
pattern = "/",
replacement = "|" )
str_view("\\")
original_string <- "a/b/c/d/e"
# Replace forward slashes with backslashes
result_string <- str_replace_all(original_string, "/", "\\")
result_string
# Print the result
cat(result_string, "\n")
str_replace_all(test_string,
pattern = "/",
replacement = "\\") |>
str_view()
str_view("a\b\c\d\e")
str_view("a\\b\\c\\d\\e")
print("a\\b\\c\\d\\e")
str_replace_all(test_string,
pattern = "/",
replacement = "\\\\") |>
str_view()
sentences
test_string_1 = "Take the Match and Strike it against your Shoe."
?str_replace_all
str_replace_all(fruits, "[aeiou]", toupper)
str_replace_all(fruit, "[aeiou]", toupper)
str_replace_all(test_string_1,
pattern = "[A-Z|a-z]",
replacement = tolower)
phone_nos = c("+91-9812021166",
"+91-172-23456789",
"0172-23456789")
