geom_point() +
labs(title = "Higher displacement ve")
?mpg
mpg |>
ggplot(aes(x = displ,
y = hwy,
col = as_factor(class)
)
) +
geom_point() +
labs(title = "Higher displacement vehicles have lower mileage",
subtitle = "2-seater sports cars have high mileage despite higher displacements",
x = "Engine Displacement (in liters)",
y = "Highway Mileage (miles per gallon)",
caption = "Data from mpg dataset")
mpg |>
ggplot(aes(x = displ,
y = hwy,
col = as_factor(class)
)
) +
geom_point() +
labs(title = "Higher displacement vehicles have lower mileage",
subtitle = "2-seater sports cars have high mileage despite higher displacements",
x = "Engine Displacement (in liters)",
y = "Highway Mileage (miles per gallon)",
caption = "Data from mpg dataset",
color = "Vehicle Class") +
theme(legend.position = "bottom") +
scale_color_viridis_b()
mpg |>
ggplot(aes(x = displ,
y = hwy,
col = as_factor(class)
)
) +
geom_point() +
labs(title = "Higher displacement vehicles have lower mileage",
subtitle = "2-seater sports cars have high mileage despite higher displacements",
x = "Engine Displacement (in liters)",
y = "Highway Mileage (miles per gallon)",
caption = "Data from mpg dataset",
color = "Vehicle Class") +
theme(legend.position = "bottom") +
scale_color_viridis_c()
mpg |>
ggplot(aes(x = displ,
y = hwy,
col = as_factor(class)
)
) +
geom_point() +
labs(title = "Higher displacement vehicles have lower mileage",
subtitle = "2-seater sports cars have high mileage despite higher displacements",
x = "Engine Displacement (in liters)",
y = "Highway Mileage (miles per gallon)",
caption = "Data from mpg dataset",
color = "Vehicle Class") +
theme(legend.position = "bottom") +
scale_color_viridis_d()
mpg |>
ggplot(aes(x = displ,
y = hwy,
col = as_factor(class)
)
) +
geom_point() +
labs(title = "Higher displacement vehicles have lower mileage",
subtitle = "2-seater sports cars have high mileage despite higher displacements",
x = "Engine Displacement (in liters)",
y = "Highway Mileage (miles per gallon)",
caption = "Data from mpg dataset",
color = "Vehicle Class") +
theme(legend.position = "right") +
scale_color_viridis_d()
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point()
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of drive train")
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of drive train",
shape = "Type of drive train")
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of drive train",
shape = "Type of drive train")
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of drive train",
shape = "Type of drive train")
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of \ndrive train",
shape = "Type of \ndrive train")
The @fig-q3a-ex5.3 explains this strange phenomenon partially. There are very few diamonds in the category \> 3 carats and most of them near 3 carats are still priced differently. Thus, it is likely that the price of larger diamonds is more affected by other variables than simply the weight (`carat`) of the diamond.
The @fig-q3a-ex5.3 explains this strange phenomenon partially. There are very few diamonds in the category \> 3 carats and most of them near 3 carats are still priced differently. Thus, it is likely that the price of larger diamonds is more affected by other variables than simply the weight (`carat`) of the diamond.
The @fig-q3a-ex5.3 explains this strange phenomenon partially. There are very few diamonds in the category \> 3 carats and most of them near 3 carats are still priced differently. Thus, it is likely that the price of larger diamonds is more affected by other variables than simply the weight (`carat`) of the diamond.
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "x", y = "y",
subtitle = "Scatter-Plot for detecting outliers")
#| label: setup
library(tidyverse)
library(scales)
library(ggrepel)
library(patchwork)
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "x", y = "y",
subtitle = "Scatter-Plot for detecting outliers")
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "Length of diamond, in mm (x)",
y = "Width of diamond, in mm (y)",
title = "Certain diamonds have an abnormal shape",
subtitle = "The labelled diamonds, with their IDs shown, have excessive length or width") +
scale_x_continuous(labels = comma(suffix = " mm"))
?comma
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "Length of diamond, in mm (x)",
y = "Width of diamond, in mm (y)",
title = "Certain diamonds have an abnormal shape",
subtitle = "The labelled diamonds, with their IDs shown, have excessive length or width") +
scale_x_continuous(labels = comma(x, suffix = " mm"))
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "Length of diamond, in mm (x)",
y = "Width of diamond, in mm (y)",
title = "Certain diamonds have an abnormal shape",
subtitle = "The labelled diamonds, with their IDs shown, have excessive length or width")
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = rowid)) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "Length of diamond, in mm (x)",
y = "Width of diamond, in mm (y)",
title = "Certain diamonds have an abnormal shape",
subtitle = "The labelled diamonds, with their IDs shown, have excessive length or width",
caption = "Data from diamonds data-set, ggplot2") +
theme_light()
#| label: fid-q3-ex2
#| fig-cap: "A scatter plot of x and y dimensions of a diamond to detect outliers"
#| fig-cap-location: top
diamonds |>
mutate(res_lm = (lm(diamonds$y ~ diamonds$x)$residuals)) |>
filter(x >= 4) |>
mutate(res_lm = res_lm < -1 | res_lm > 1) |>
rowid_to_column() |>
mutate(rowid = ifelse(res_lm, rowid, NA)) |>
ggplot(aes(x = x,
y = y,
label = scales::comma(rowid))) +
geom_point(alpha = 0.2) +
coord_cartesian(xlim = c(4, 11), ylim = c(4, 11)) +
ggrepel::geom_text_repel(size = 3) +
labs(x = "Length of diamond, in mm (x)",
y = "Width of diamond, in mm (y)",
title = "Certain diamonds have an abnormal shape",
subtitle = "The labelled diamonds, with their IDs shown, have excessive length or width",
caption = "Data from diamonds data-set, ggplot2") +
theme_light()
?geom_text()
?GeomTextRepel
browseVignettes("ggrepel")
#| label: setup
library(tidyverse)
library(scales)
library(ggrepel)
library(patchwork)
#| label: setup
library(tidyverse)
library(scales)
library(ggrepel)
library(patchwork)
?plotmath
?quote
#| label: fig-q2-ex2
#| fig-cap: "A scatter-plot of highway vs city MPG to recreate the plot shown in question"
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of \ndrive train",
shape = "Type of \ndrive train")
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of \ndrive train",
shape = "Type of \ndrive train",
title = quote(sum(x)/y))
mpg |>
ggplot(aes(x = cty,
y = hwy,
shape = drv,
col = drv)) +
geom_point() +
labs(x = "City MPG", y = "Highway MPG",
col = "Type of \ndrive train",
shape = "Type of \ndrive train")
mpg |>
group_by(drv) |>
arrange(desc(displ)) |>
slice_head(n = 1) |>
mutate(
drive_type = case_when(
drv == "f" ~ "front-wheel drive",
drv == "r" ~ "rear-wheel drive",
drv == "4" ~ "4-wheel drive"
)
) |>
select(displ, hwy, drv, drive_type)
mpg |>
group_by(drv) |>
arrange(desc(displ)) |>
mpg |>
group_by(drv) |>
arrange(desc(displ))
mpg |>
group_by(drv) |>
arrange(desc(displ)) |>
slice_head(n = 1)
mpg |>
group_by(drv) |>
arrange(desc(displ)) |>
slice_head(n = 1) |>
mutate(
drive_type = case_when(
drv == "f" ~ "front-wheel drive",
drv == "r" ~ "rear-wheel drive",
drv == "4" ~ "4-wheel drive"
)
)
?case_when
?geom_text
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter()
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = -0.1, vjust = 1.1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"))
?geom_text
?hjust
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = -0.1, vjust = -0.1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 0.1, vjust = 0.1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = -1, vjust = -1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"))
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1))
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_classic()
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = 0)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = 0.1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = -0.2)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = -0.5)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = -0.1)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "High mileage, high displacement"),
hjust = 0, vjust = -0.2)
mpg |>
ggplot(aes(x = displ,
y = hwy)) +
geom_jitter() +
theme_light() +
# Add text labels at the four corners using infinite positions
geom_text(aes(x = Inf, y = Inf,
label = "High mileage, high displacement"),
hjust = 1, vjust = 1) +
geom_text(aes(x = -Inf, y = -Inf,
label = "Low mileage, low displacement"),
hjust = 0, vjust = -0.2) +
geom_text(aes(x = Inf, y = -Inf,
label = "Low mileage, high displacement"),
hjust = 1, vjust = -0.2) +
geom_text(aes(x = -Inf, y = Inf,
label = "High mileage, Low displacement"),
hjust = 0, vjust = 1)
